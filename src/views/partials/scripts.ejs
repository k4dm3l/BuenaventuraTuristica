<!-- BOOTSTRAP 4 - JQUERY SCRIPTS CDN LINKS -->

<!-- JQuery -->
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"
></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

<!-- MDB core JavaScript -->
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.8.0/js/mdb.min.js"
></script>

<!-- Bootstrap tooltips -->
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"
></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

<!-- Bootstrap core JavaScript -->
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"
></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<!-- Animation On Scroll Library - AOS -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

<!-- CAROUSEL ANIMATION - OWL.JS -->
<script type="text/javascript" src="/js/owl.carousel.js"></script>

<!-- PERSONAL JS -->
<script type="text/javascript" src="/js/main.js"></script>

<!-- COUNTERUP JS -->
<script type="text/javascript" src="/js/jquery.counterup.min.js"></script>
<script type="text/javascript" src="/js/jquery.waypoints.min.js"></script>

<script>
  jQuery(document).ready(function($) {
    $(".counter").counterUp({
      delay: 5,
      time: 1000
    });
  });
</script>

<!-- LOADER SCRIPT -->
<script>
  $(window).on("load", function() {
    jQuery(".loader-wrapper")
      .delay(1000)
      .fadeOut("slow");
  });
</script>

<!-- CHECK WHEN THE NAVBAR IS IN TOP AND ADD A CSS CLASS -->
<script>
  $(function() {
    var $window = $(window);
    var $pos = 140;

    $window.scroll(function() {
      if ($window.scrollTop()) {
        $(".nav-link").addClass("scrolldown-text-color");
        $(".navbar").addClass("scrolldown-navbar-background");
      } else {
        $(".nav-link").removeClass("scrolldown-text-color");
        $(".navbar").removeClass("scrolldown-navbar-background");
      }
    });
  });
</script>

<!-- INIT AOS (ANIMATION ON SCROLL LIBRARY) -->
<script>
  AOS.init();
</script>

<!-- PARAMETERS FOR OWL CAROUSEL LIBRARY -->
<script>
  $(".owl-carousel").owlCarousel({
    loop: true,
    margin: 10,
    nav: true,
    autoplay: true,
    autoplayTimeout: 5000,
    autoplayHoverPause: true,
    responsive: {
      0: {
        items: 1
      },
      600: {
        items: 3
      },
      1000: {
        items: 5
      }
    }
  });
</script>

<!-- GO TOP ARROW SCRIPT -->
<script>
  $(document).ready(function() {
    $(".go-top").click(function() {
      $("body, html").animate(
        {
          scrollTop: "0px"
        },
        300
      );
    });

    $(window).scroll(function() {
      if ($(this).scrollTop() > 0) {
        $(".go-top").slideDown(300);
      } else {
        $(".go-top").slideUp(300);
      }
    });
  });
</script>

<!-- SWEETALERT2 JAVASCRIPT -->
<script type="text/javascript" src="/js/sweetalert2.all.min.js"></script>

<!-- EMAIL SCRIPT -->
<script>
  document
    .getElementById("contact_form")
    .addEventListener("submit", sendContact);

  function reload(url) {
    window.location.href = url;
  }

  function sweetalert(status, url) {
    if (status) {
      Swal.fire({
        type: "success",
        title: "Genial...",
        text: "Mensaje Enviado..",
        confirmButtonColor: "#3085d6",
        confirmButtonText: "Continuar"
      }).then(result => {
        if (result.value) {
          reload(url);
        } else {
          reload(url);
        }
      });
    } else {
      Swal.fire({
        type: "error",
        title: "Oops...",
        text: "Algo Fallo!"
      });
    }
  }

  function sendContact(e) {
    e.preventDefault();

    const name = document.querySelector("#name").value;
    const email = document.querySelector("#email").value;
    const text = document.querySelector("#text").value;
    const captcha = document.querySelector("#g-recaptcha-response").value;

    const data = {
      name,
      email,
      text,
      captcha
    };

    fetch("submit", {
      method: "POST",
      headers: {
        Accept: "application/json, text/plain, */*",
        "Content-type": "application/json"
      },
      body: JSON.stringify({
        name: name,
        email: email,
        text: text,
        captcha: captcha
      })
    })
      .then(res => res.json())
      .then(data => {
        if (data.success === false) {
          sweetalert(data.success, data.url);
        } else {
          sweetalert(data.success, data.url);
          console.log(data.success);
        }
      });
  }
</script>

<!-- RESET FORM -->

<!-- BLOQUE CODIGO EN PRUEBAS -->
<script>
  //FUNCIONA
  let plan_selected;

  function getPlanName(element){
    plan_selected = element.value;
  }//FUNCIONA

  document.getElementById("plan_form").addEventListener("submit", sendPlanRequest);

  function sendPlanRequest(e) {
    e.preventDefault();

    const name = document.querySelector("#name_X").value;
    const email = document.querySelector("#email_X").value;

    const data = {
      name,
      email,
      plan_selected
    };

    fetch("plan", {
      method: "POST",
      headers: {
        Accept: "application/json, text/plain, */*",
        "Content-type": "application/json"
      },
      body: JSON.stringify({
        name: name,
        email: email,
        plan_selected: plan_selected
      })
    });


  }
</script>
<!-- BLOQUE CODIGO EN PRUEBAS -->